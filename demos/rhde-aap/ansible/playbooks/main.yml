---
- name: RHDE and AAP Demo
  hosts:
    - edge_management
  tasks:
    - name: Install management node
      ansible.builtin.include_role:
        name: ../../../../common/roles/setup_rh_edge-mgmt-node

    - name: Config management node
      ansible.builtin.include_role:
        name: ../../../../common/roles/config_rh_edge-mgmt-node
      vars:
        gitea_admin_repos_template: ../templates/gitea_admin_repos
        gitea_user_repos_template: ../templates/gitea_user_repos
        aap_config_template: ../templates/aap_config.j2
        aap_repo_name: aap